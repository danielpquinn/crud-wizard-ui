# Getting Started

This getting started guide will walk you through an integration with the Twilio API. When you are done with this guide, you will be able to view your Twilio account information and notifications.

To complete this getting started guide, you will have to sign up for a free Twilio account at [twilio.com/try-twilio](https://www.twilio.com/try-twilio). You will also need a free crud wizard account, which you can create at [crudwizard.com/signup](https://crudwizard.com/signup).

## Find an OpenAPI Spec for the Twilio API

When creating a new project, the first step is to find an specification for the API you want to work with and save it in JSON format. You can find an OpenAPI spec for the Twilio api at apis.guru, along with many other popular APIs.

1. Navigate to [apis.guru](https://apis.guru/browse-apis/)
2. Search for __twilio__
3. Click on the json button and save a copy of the API spec

## Create a New Project

Next we will create a new project in crud wizard for the Twilio API.

1. Navigate to [crudwizard.com/projects](https://crudwizard.com/projects)
2. Under __General__, enter a __Project Name__ (for example: Twilio)
3. Under __Specs__, click __Add OpenAPI Spec__. Give your spec a name (for example: `twilio.json`) and paste the json file that you downloaded in the last section into the text area
4. Click __Save Changes__ to save your new project

## Configure Resources

At this point you will have a new project called __Twilio__ on your projects list view. Navigate to [crudwizard.com/projects](https://crudwizard.com/projects) and click on your new project. You will see an empty dashboard titled "Twilio". Clicking on the menu icon in the dashboard's header will open an empty panel because we haven't told crud wizard which resources we want to manage. Let's do that now 🧙‍.

The first resource we will set up is our `Account` resource. This will allow us to view our Twilio account information.

1. Click on the __Edit Project__ tab at the top of the dashboard
2. Click on the __Resources__ tab
3. Click on __Add Resource__
4. Enter the following information into the form (you will leave some fields blank):
    * __Name:__ `Account`
    * __OpenAPI Spec:__ `twilio.json`
    * __ID:__ `account`
    * __ID Field:__ `sid`
    * __Create Operation:__ `post/accounts{mediaTypeExtension}`
    * __List Operation:__ `get/accounts{mediaTypeExtension}`
    * __Get Operation:__ `get/accounts/{AccountSid}{mediaTypeExtension}`
    * __Account ID:__ `AccountSid`
    * __List Item Schema:__ `definitions/account`
    * __Name Plural:__ `Accounts`
    * __Name Field:__ `Name`
    * __Get List Items:__ `(r) => r.data.accounts`
5. Click __Save Changes__

Now that we've told crud wizard about the `Account` resource, we can click on the __View Project__ tab, and then open the menu. You should see an `Account` item in the navigation. Clicking on the item will open a new list view for the account resource, but you will be presented with an error because the Twilio API requires authentication. We will add authentication in the next section.

## Add Your Twilio API Token

Crud wizard uses [axios](https://github.com/axios/axios) to make HTTP requests. We will add an [interceptor](https://github.com/axios/axios#interceptors) to all requests made by axios which adds an Authorization header. Additionally, the Twilio API requires a `mediaTypeExtension` parameter, so we will add that extension to each request as well.

1. Navigate to [https://www.twilio.com/console](https://www.twilio.com/console)
2. Find your account SID and auth token. Create a basic authorization string that looks like this: `{accountSid}:{apiToken}`. You will paste this string into a prompt generated by the script we add below.
2. Click on the __Edit Project__ tab at the top of the dashboard
3. Click on the __Advanced__ tab
4. Enter the following script into the `Initialize function` text area:

```
(axios) => {
  const key = "twilioAuth";
  const message = "Enter your twilio basic authorization string in the following format: {accountId}:{apiToken}";
  let authString = localStorage.getItem(key);

  if (!authString) {
    authString = prompt(message);
    if (authString) {
      localStorage.setItem(key, authString);
    }
  }

  axios.interceptors.request.use(config => {
    config.url = window.decodeURI(config.url).replace("{mediaTypeExtension}", ".json");
    config.headers.Authorization = `Basic ${btoa(authString)}`;
    return config;
  });
}
```
5. Click __Save Changes__
6. Copy the string you created in step 1 to your clipboard
7. Click on the __View Project__ tab
8. Paste the string you created in step 1 into the prompt
9. Open the menu and click on __Accounts__. You should see your twilio account listed 🤞
